\doxysection{Http\+Client.\+h}
\hypertarget{_http_client_8h_source}{}\label{_http_client_8h_source}\index{lib/ArduinoHttpClient/HttpClient.h@{lib/ArduinoHttpClient/HttpClient.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Class\ to\ simplify\ HTTP\ fetching\ on\ Arduino}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ (c)\ Copyright\ MCQN\ Ltd.\ 2010-\/2012}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Released\ under\ Apache\ License,\ version\ 2.0}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ HttpClient\_h}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ HttpClient\_h}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <IPAddress.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}Client.h"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ HTTP\_SUCCESS\ =0;}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ The\ end\ of\ the\ headers\ has\ been\ reached.\ \ This\ consumes\ the\ '\(\backslash\)n'}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ Could\ not\ connect\ to\ the\ server}}
\DoxyCodeLine{00015\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ HTTP\_ERROR\_CONNECTION\_FAILED\ =-\/1;}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ This\ call\ was\ made\ when\ the\ HttpClient\ class\ wasn't\ expecting\ it}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ to\ be\ called.\ \ Usually\ indicates\ your\ code\ is\ using\ the\ class}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ incorrectly}}
\DoxyCodeLine{00019\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ HTTP\_ERROR\_API\ =-\/2;}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ Spent\ too\ long\ waiting\ for\ a\ reply}}
\DoxyCodeLine{00021\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ HTTP\_ERROR\_TIMED\_OUT\ =-\/3;}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ The\ response\ from\ the\ server\ is\ invalid,\ is\ it\ definitely\ an\ HTTP}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ server?}}
\DoxyCodeLine{00024\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ HTTP\_ERROR\_INVALID\_RESPONSE\ =-\/4;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{comment}{//\ Define\ some\ of\ the\ common\ methods\ and\ headers\ here}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ That\ lets\ other\ code\ reuse\ them\ without\ having\ to\ declare\ another\ copy}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ of\ them,\ so\ saves\ code\ space\ and\ RAM}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ HTTP\_METHOD\_GET\ \ \ \ "{}GET"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ HTTP\_METHOD\_POST\ \ \ "{}POST"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ HTTP\_METHOD\_PUT\ \ \ \ "{}PUT"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ HTTP\_METHOD\_PATCH\ \ "{}PATCH"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ HTTP\_METHOD\_DELETE\ "{}DELETE"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_CONTENT\_LENGTH\ "{}Content-\/Length"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_CONTENT\_TYPE\ \ \ "{}Content-\/Type"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_CONNECTION\ \ \ \ \ "{}Connection"{}}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_TRANSFER\_ENCODING\ "{}Transfer-\/Encoding"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_USER\_AGENT\ \ \ \ \ "{}User-\/Agent"{}}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ HTTP\_HEADER\_VALUE\_CHUNKED\ \ "{}chunked"{}}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{class\ }HttpClient\ :\ \textcolor{keyword}{public}\ Client}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kNoContentLengthHeader\ =-\/1;}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kHttpPort\ =80;}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kHttpsPort\ =443;}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ kUserAgent;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{comment}{//\ FIXME\ Write\ longer\ API\ request,\ using\ port\ and\ user-\/agent,\ example}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ FIXME\ Update\ tempToPachube\ example\ to\ calculate\ Content-\/Length\ correctly}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ HttpClient(Client\&\ aClient,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aServerName,\ uint16\_t\ aServerPort\ =\ kHttpPort);}
\DoxyCodeLine{00053\ \ \ \ \ HttpClient(Client\&\ aClient,\ \textcolor{keyword}{const}\ String\&\ aServerName,\ uint16\_t\ aServerPort\ =\ kHttpPort);}
\DoxyCodeLine{00054\ \ \ \ \ HttpClient(Client\&\ aClient,\ \textcolor{keyword}{const}\ IPAddress\&\ aServerAddress,\ uint16\_t\ aServerPort\ =\ kHttpPort);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a640c3b63cac33d93614fb69e3ea4a360}{beginRequest}}();}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_abadc93f66021c34274cc2fd2e782cdf0}{endRequest}}();}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_adeac6021d2f57f3a6b7f7047b14736fd}{beginBody}}();}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a92d8027a76943ec459df5085fd8d37a8}{get}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath);}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a92d8027a76943ec459df5085fd8d37a8}{get}}(\textcolor{keyword}{const}\ String\&\ aURLPath);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a70f0502368b558562f38b8eb4786c2ae}{post}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath);}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a70f0502368b558562f38b8eb4786c2ae}{post}}(\textcolor{keyword}{const}\ String\&\ aURLPath);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a70f0502368b558562f38b8eb4786c2ae}{post}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aBody);}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a70f0502368b558562f38b8eb4786c2ae}{post}}(\textcolor{keyword}{const}\ String\&\ aURLPath,\ \textcolor{keyword}{const}\ String\&\ aContentType,\ \textcolor{keyword}{const}\ String\&\ aBody);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a70f0502368b558562f38b8eb4786c2ae}{post}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keywordtype}{int}\ aContentLength,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{byte}\ aBody[]);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a95cb1dddba441146651febe9f5777b7f}{put}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath);}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a95cb1dddba441146651febe9f5777b7f}{put}}(\textcolor{keyword}{const}\ String\&\ aURLPath);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a95cb1dddba441146651febe9f5777b7f}{put}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aBody);}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a95cb1dddba441146651febe9f5777b7f}{put}}(\textcolor{keyword}{const}\ String\&\ aURLPath,\ \textcolor{keyword}{const}\ String\&\ aContentType,\ \textcolor{keyword}{const}\ String\&\ aBody);}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a95cb1dddba441146651febe9f5777b7f}{put}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keywordtype}{int}\ aContentLength,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{byte}\ aBody[]);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a87a030a92938f87aef3bdc48579ec17b}{patch}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath);}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a87a030a92938f87aef3bdc48579ec17b}{patch}}(\textcolor{keyword}{const}\ String\&\ aURLPath);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a87a030a92938f87aef3bdc48579ec17b}{patch}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aBody);}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a87a030a92938f87aef3bdc48579ec17b}{patch}}(\textcolor{keyword}{const}\ String\&\ aURLPath,\ \textcolor{keyword}{const}\ String\&\ aContentType,\ \textcolor{keyword}{const}\ String\&\ aBody);}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a87a030a92938f87aef3bdc48579ec17b}{patch}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keywordtype}{int}\ aContentLength,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{byte}\ aBody[]);}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a5d0cf7ecdf0c4b7572e976f567a1e2e2}{del}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath);}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a5d0cf7ecdf0c4b7572e976f567a1e2e2}{del}}(\textcolor{keyword}{const}\ String\&\ aURLPath);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a5d0cf7ecdf0c4b7572e976f567a1e2e2}{del}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aBody);}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a5d0cf7ecdf0c4b7572e976f567a1e2e2}{del}}(\textcolor{keyword}{const}\ String\&\ aURLPath,\ \textcolor{keyword}{const}\ String\&\ aContentType,\ \textcolor{keyword}{const}\ String\&\ aBody);}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a5d0cf7ecdf0c4b7572e976f567a1e2e2}{del}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType,\ \textcolor{keywordtype}{int}\ aContentLength,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{byte}\ aBody[]);}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a132817aa337738438a11635890729023}{startRequest}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHttpMethod,}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aContentType\ =\ NULL,}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aContentLength\ =\ -\/1,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{byte}\ aBody[]\ =\ NULL);}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHeader);}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ String\&\ aHeader)}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \{\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(aHeader.c\_str());\ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHeaderName,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHeaderValue);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ String\&\ aHeaderName,\ \textcolor{keyword}{const}\ String\&\ aHeaderValue)}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \{\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(aHeaderName.c\_str(),\ aHeaderValue.c\_str());\ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHeaderName,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ aHeaderValue);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(\textcolor{keyword}{const}\ String\&\ aHeaderName,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ aHeaderValue)}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \{\ \mbox{\hyperlink{class_http_client_a10b1352ced52ad00f5989d17294b4978}{sendHeader}}(aHeaderName.c\_str(),\ aHeaderValue);\ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a6984c59e33125a5188c7a6a34a8e8376}{sendBasicAuth}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aUser,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aPassword);}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a6984c59e33125a5188c7a6a34a8e8376}{sendBasicAuth}}(\textcolor{keyword}{const}\ String\&\ aUser,\ \textcolor{keyword}{const}\ String\&\ aPassword)}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \{\ \mbox{\hyperlink{class_http_client_a6984c59e33125a5188c7a6a34a8e8376}{sendBasicAuth}}(aUser.c\_str(),\ aPassword.c\_str());\ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a0fba0410f61b4317f42fd1d477d0162b}{responseStatusCode}}();}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_http_client_a0f69501b4c3f559018f46cef58c644d8}{headerAvailable}}();}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00230\ \ \ \ \ String\ \mbox{\hyperlink{class_http_client_a625714a7df2db4e3c5f1e56b3b5c3454}{readHeaderName}}();}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00235\ \ \ \ \ String\ \mbox{\hyperlink{class_http_client_ab88272dffdf136297354513ccbd7c59a}{readHeaderValue}}();}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_ad2c91a8d7e27b4912751b229d2229adc}{readHeader}}();}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_adbf477517900e0f3a5f662b2f3f4035b}{skipResponseHeaders}}();}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_http_client_a0c5e49fe34c3a05bdec7a215dd357d53}{endOfHeadersReached}}();}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_http_client_a40e874de7466bfc201ee9fd73d2f51d7}{endOfBodyReached}}();}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ endOfStream()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_http_client_a40e874de7466bfc201ee9fd73d2f51d7}{endOfBodyReached}}();\ \};}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ completed()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_http_client_a40e874de7466bfc201ee9fd73d2f51d7}{endOfBodyReached}}();\ \};}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{class_http_client_a4b2a81da4067db97be35fe7c2c800f74}{contentLength}}();}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a4849321b4192917f7089161bda2eae9f}{isResponseChunked}}()\ \{\ \textcolor{keywordflow}{return}\ iIsChunked;\ \}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00288\ \ \ \ \ String\ \mbox{\hyperlink{class_http_client_a05eb433f7d6ce865c6bd4e16526e72c3}{responseBody}}();}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a0b01a20e5c6263d38c0235a0a7b60f0e}{connectionKeepAlive}}();}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_a22a54227282e32cc3174c60842fdeacd}{noDefaultRequestHeaders}}();}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{comment}{//\ Inherited\ from\ Print}}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{comment}{//\ Note:\ 1st\ call\ to\ these\ indicates\ the\ user\ is\ sending\ the\ body,\ so\ if\ need}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ Note:\ be\ we\ should\ finish\ the\ header\ first}}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ write(uint8\_t\ aByte)\ \{\ \textcolor{keywordflow}{if}\ (iState\ <\ eRequestSent)\ \{\ finishHeaders();\ \};\ \textcolor{keywordflow}{return}\ iClient-\/>\ write(aByte);\ \};}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ write(\textcolor{keyword}{const}\ uint8\_t\ *aBuffer,\ \textcolor{keywordtype}{size\_t}\ aSize)\ \{\ \textcolor{keywordflow}{if}\ (iState\ <\ eRequestSent)\ \{\ finishHeaders();\ \};\ \textcolor{keywordflow}{return}\ iClient-\/>write(aBuffer,\ aSize);\ \};}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ Inherited\ from\ Stream}}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ available();}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a18ea928ad5adf203405e24070c67f84d}{read}}();}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_a18ea928ad5adf203405e24070c67f84d}{read}}(uint8\_t\ *buf,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ peek()\ \{\ \textcolor{keywordflow}{return}\ iClient-\/>peek();\ \};}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ flush()\ \{\ iClient-\/>flush();\ \};}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{comment}{//\ Inherited\ from\ Client}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ connect(IPAddress\ ip,\ uint16\_t\ port)\ \{\ \textcolor{keywordflow}{return}\ iClient-\/>connect(ip,\ port);\ \};}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ connect(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *host,\ uint16\_t\ port)\ \{\ \textcolor{keywordflow}{return}\ iClient-\/>connect(host,\ port);\ \};}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ stop();}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{virtual}\ uint8\_t\ connected()\ \{\ \textcolor{keywordflow}{return}\ iClient-\/>connected();\ \};}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{operator}\ bool()\ \{\ \textcolor{keywordflow}{return}\ bool(iClient);\ \};}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keyword}{virtual}\ uint32\_t\ httpResponseTimeout()\ \{\ \textcolor{keywordflow}{return}\ iHttpResponseTimeout;\ \};}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setHttpResponseTimeout(uint32\_t\ timeout)\ \{\ iHttpResponseTimeout\ =\ timeout;\ \};}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keyword}{virtual}\ uint32\_t\ httpWaitForDataDelay()\ \{\ \textcolor{keywordflow}{return}\ iHttpWaitForDataDelay;\ \};}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setHttpWaitForDataDelay(uint32\_t\ delay)\ \{\ iHttpWaitForDataDelay\ =\ delay;\ \};}
\DoxyCodeLine{00323\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_ab29155f574471c50d78b72484378b9b5}{resetState}}();}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_http_client_abadbb2a8c693e4c782b4552f2a74d48b}{sendInitialHeaders}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aURLPath,}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ aHttpMethod);}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{comment}{/*\ Let\ the\ server\ know\ that\ we've\ reached\ the\ end\ of\ the\ headers}}
\DoxyCodeLine{00337\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordtype}{void}\ finishHeaders();}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_http_client_aa9772b5fe920a5cb0bcb74871e2b4679}{flushClientRx}}();}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{comment}{//\ Number\ of\ milliseconds\ that\ we\ wait\ each\ time\ there\ isn't\ any\ data}}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{comment}{//\ available\ to\ be\ read\ (during\ status\ code\ and\ header\ processing)}}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kHttpWaitForDataDelay\ =\ 100;}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{comment}{//\ Number\ of\ milliseconds\ that\ we'll\ wait\ in\ total\ without\ receiving\ any}}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ data\ before\ returning\ HTTP\_ERROR\_TIMED\_OUT\ (during\ status\ code\ and\ header}}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{comment}{//\ processing)}}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kHttpResponseTimeout\ =\ 30*1000;}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ kContentLengthPrefix;}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ kTransferEncodingChunked;}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ eIdle,}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ eRequestStarted,}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ eRequestSent,}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ eReadingStatusCode,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ eStatusCodeRead,}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ eReadingContentLength,}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ eSkipToEndOfHeader,}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ eLineStartingCRFound,}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ eReadingBody,}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ eReadingChunkLength,}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ eReadingBodyChunk}
\DoxyCodeLine{00365\ \ \ \ \ \}\ tHttpState;}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{comment}{//\ Client\ we're\ using}}
\DoxyCodeLine{00367\ \ \ \ \ Client*\ iClient;}
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{comment}{//\ Server\ we\ are\ connecting\ to}}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ iServerName;}
\DoxyCodeLine{00370\ \ \ \ \ IPAddress\ iServerAddress;}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{comment}{//\ Port\ of\ server\ we\ are\ connecting\ to}}
\DoxyCodeLine{00372\ \ \ \ \ uint16\_t\ iServerPort;}
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{comment}{//\ Current\ state\ of\ the\ finite-\/state-\/machine}}
\DoxyCodeLine{00374\ \ \ \ \ tHttpState\ iState;}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{comment}{//\ Stores\ the\ status\ code\ for\ the\ response,\ once\ known}}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keywordtype}{int}\ iStatusCode;}
\DoxyCodeLine{00377\ \ \ \ \ \textcolor{comment}{//\ Stores\ the\ value\ of\ the\ Content-\/Length\ header,\ if\ present}}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordtype}{long}\ iContentLength;}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{comment}{//\ How\ many\ bytes\ of\ the\ response\ body\ have\ been\ read\ by\ the\ user}}
\DoxyCodeLine{00380\ \ \ \ \ \textcolor{keywordtype}{int}\ iBodyLengthConsumed;}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{comment}{//\ How\ far\ through\ a\ Content-\/Length\ header\ prefix\ we\ are}}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ iContentLengthPtr;}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{comment}{//\ How\ far\ through\ a\ Transfer-\/Encoding\ chunked\ header\ we\ are}}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ iTransferEncodingChunkedPtr;}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{comment}{//\ Stores\ if\ the\ response\ body\ is\ chunked}}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordtype}{bool}\ iIsChunked;}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{comment}{//\ Stores\ the\ value\ of\ the\ current\ chunk\ length,\ if\ present}}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordtype}{int}\ iChunkLength;}
\DoxyCodeLine{00389\ \ \ \ \ uint32\_t\ iHttpResponseTimeout;}
\DoxyCodeLine{00390\ \ \ \ \ uint32\_t\ iHttpWaitForDataDelay;}
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keywordtype}{bool}\ iConnectionClose;}
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{keywordtype}{bool}\ iSendDefaultRequestHeaders;}
\DoxyCodeLine{00393\ \ \ \ \ String\ iHeaderLine;}
\DoxyCodeLine{00394\ \};}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
